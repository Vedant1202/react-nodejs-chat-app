(this["webpackJsonpreact-nodejs-chat-app"]=this["webpackJsonpreact-nodejs-chat-app"]||[]).push([[0],{104:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={SET_CURRENT_USER:"SET_CURRENT_USER"}},180:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},190:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var r,n,s=a(0),o=a.n(s),c=a(22),i=a.n(c),l=(a(180),a(40)),u=a(41),d=a(45),h=a(44),p=(a(181),a(182),a(20)),m=a.n(p),j=a(32),b=a(42),f=(a(183),a(28)),g=a(241),O=a(243),x=a(50),v=a(246),S=a(247),k=a(174),y=a(34),C=a(104),w=function(e){return{type:C.a.SET_CURRENT_USER,payload:e}},N=a(24),D=a(6),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,n=t.name;r.setState(Object(b.a)({},n,a))},r.handleSubmit=function(){var e=r.props,t=e.setCurrentUser,a=e.history,n=r.state,s={email:n.email,password:n.password},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};fetch(f.a+"/auth/login",o).then(function(){var e=Object(j.a)(m.a.mark((function e(r){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:if(n=e.sent,r.ok){e.next=6;break}return s=n&&n.message||r.status,e.abrupt("return",Promise.reject(s));case 6:t(n),a.push("/chat");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),console.error("Error: ",e)}))},r.state={email:"",password:""},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,r=this.props.history;return Object(D.jsxs)("div",{className:"login-page",children:[Object(D.jsxs)("div",{className:"page-header",children:[Object(D.jsx)(g.a,{className:"site-page-header",title:"Chat App",subTitle:"Login"}),","]}),Object(D.jsxs)("div",{className:"form",children:[Object(D.jsx)(O.a,{name:"email",size:"large",className:"email-input",placeholder:"Enter your email address",prefix:Object(D.jsx)(v.a,{}),value:t,onChange:this.handleChange}),Object(D.jsx)(O.a.Password,{className:"password-input",size:"large",placeholder:"Enter your password",iconRender:function(e){return e?Object(D.jsx)(S.a,{}):Object(D.jsx)(k.a,{})},onChange:this.handleChange,name:"password",value:a}),Object(D.jsx)(x.a,{type:"link",className:"register-link",onClick:function(){r.push("/register")},block:!0,children:"Register?"}),Object(D.jsx)(x.a,{type:"primary",size:"large",block:!0,onClick:this.handleSubmit,children:"Login"})]})]})}}]),a}(s.Component),T=Object(N.g)(Object(y.b)(null,(function(e){return{setCurrentUser:function(t){e(w(t))}}}))(E)),U=(a(190),a(240)),M=a(137),I=a(242),R=a(248),P=a(249),B=a(56),z=(0,a(56).createSelector)([function(e){return e.user}],(function(e){return e.currentUser})),A=a(114),_=O.a.Search,J=U.a.Header,L=U.a.Sider,V=U.a.Content,X=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.currentUser,t={method:"GET",headers:{Authorization:"Bearer ".concat(e.tokens.access.token)}};fetch(f.a+"/users",t).then(function(){var t=Object(j.a)(m.a.mark((function t(a){var s,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(s=t.sent,a.ok){t.next=6;break}return o=s&&s.message||a.status,t.abrupt("return",Promise.reject(o));case 6:r=Object(A.io)(f.b,{query:"chatID=".concat(e.user.id,"&token=").concat(e.tokens.access.token)}),c=s.results[0].id,n.setState({users:s.results,userTo:c});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){n.setState({errorMessage:e.toString()}),alert("Error: "+e+". Please try refreshing or logging in again.")}))},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(b.a)({},r,a))},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.handleChatSwitch=function(e){var t=n.props.currentUser,a={method:"GET",headers:{Authorization:"Bearer ".concat(t.tokens.access.token)}};fetch(f.a+"/messages?userId=".concat(t.user.id,"&toId=").concat(e),a).then(function(){var t=Object(j.a)(m.a.mark((function t(a){var s,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(s=t.sent,a.ok){t.next=6;break}return o=s&&s.message||a.status,t.abrupt("return",Promise.reject(o));case 6:c=s&&s.length?s:[],n.setState({messages:c,userTo:e},(function(){console.log(n.state);var e=n.state,t=e.messages,a=e.userTo;r.on("receive_message",(function(e){e.senderChatID===a&&(t.push(e),n.setState({messages:t}))}))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){n.setState({errorMessage:e.toString()}),alert("Error: "+e)}))},n.handleSubmit=function(){var e=n.state,t=e.currentMessage,a=e.userTo,s=e.messages,o=n.props.currentUser,c={receiverChatID:a,senderChatID:o.user.id,text:t,from:o.user.name},i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.tokens.access.token)},body:JSON.stringify(c)};fetch(f.a+"/messages",i).then(function(){var e=Object(j.a)(m.a.mark((function e(t){var a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,t.ok){e.next=6;break}return o=a&&a.message||t.status,e.abrupt("return",Promise.reject(o));case 6:s.push(c),n.setState({messages:s,currentMessage:""}),r.emit("send_message",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){n.setState({errorMessage:e.toString()}),alert("Error: "+e)}))},n.state={currentMessage:"",messages:[],collapsed:!1,users:[],userTo:null},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentMessage,r=t.messages,n=t.users,s=this.props,c=s.history,i=s.currentUser,l=r;return Object(D.jsxs)("div",{className:"chat-page",children:[Object(D.jsxs)("div",{className:"page-header",children:[Object(D.jsx)(g.a,{className:"site-page-header",title:"Chat App",subTitle:i.user.name,extra:[Object(D.jsx)(x.a,{onClick:function(){c.push("/annotation-rooms")},children:"Annotations"},"1"),Object(D.jsx)(x.a,{onClick:function(){localStorage.removeItem("persist:gsoc-challenge-chat-app"),window.location.reload()},children:"Logout"},"2")],onBack:function(){c.goBack()}}),","]}),Object(D.jsxs)(U.a,{className:"messages-layout",children:[Object(D.jsxs)(L,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,children:[Object(D.jsx)("div",{className:"logo"}),Object(D.jsx)(M.a,{theme:"dark",mode:"inline",className:"users-list",defaultSelectedKeys:null,children:n.map((function(t,a){return t.id!==i.user.id?Object(D.jsx)(M.a.Item,{onClick:function(){e.handleChatSwitch(t.id)},icon:Object(D.jsx)(v.a,{}),children:t.name},a):null}))})]}),Object(D.jsxs)(U.a,{className:"site-layout",children:[Object(D.jsx)(J,{className:"site-layout-background",style:{padding:0},children:o.a.createElement(this.state.collapsed?R.a:P.a,{className:"trigger",onClick:this.toggle})}),Object(D.jsx)(V,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(D.jsx)(I.b,{className:"messages-div",itemLayout:"horizontal",dataSource:l,renderItem:function(e){return Object(D.jsx)(I.b.Item,{className:e.senderChatID===i.user.id?"message-ours":"message-other",children:Object(D.jsx)(I.b.Item.Meta,{title:Object(D.jsxs)(D.Fragment,{children:[" ",e.from," ",Object(D.jsx)(v.a,{})," "]}),description:e.text})})}})})]})]}),Object(D.jsx)("div",{className:"form",children:Object(D.jsx)(_,{className:"chat-input",placeholder:"Enter your message",allowClear:!0,value:a,enterButton:"Submit",size:"large",name:"currentMessage",onChange:this.handleChange,onSearch:this.handleSubmit})})]})}}]),a}(s.Component),Y=Object(B.createStructuredSelector)({currentUser:z}),F=Object(N.g)(Object(y.b)(Y,(function(e){return{setCurrentUser:function(t){e(w(t))}}}))(X)),q=(a(231),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,n=t.name;r.setState(Object(b.a)({},n,a))},r.handleSubmit=function(){var e=r.props,t=e.setCurrentUser,a=e.history,n=r.state,s={name:n.name,email:n.email,password:n.password},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};fetch(f.a+"/auth/register",o).then(function(){var e=Object(j.a)(m.a.mark((function e(r){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:if(n=e.sent,r.ok){e.next=6;break}return s=n&&n.message||r.status,e.abrupt("return",Promise.reject(s));case 6:t(n),a.push("/chat");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),alert("Error: "+e)}))},r.state={name:"",email:"",password:""},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,r=e.password,n=this.props.history;return Object(D.jsxs)("div",{className:"register-page",children:[Object(D.jsxs)("div",{className:"page-header",children:[Object(D.jsx)(g.a,{className:"site-page-header",title:"Chat App",subTitle:"Register"}),","]}),Object(D.jsxs)("div",{className:"form",children:[Object(D.jsx)(O.a,{name:"name",size:"large",className:"name-input",placeholder:"Enter your name",prefix:Object(D.jsx)(v.a,{}),value:t,onChange:this.handleChange}),Object(D.jsx)(O.a,{name:"email",size:"large",className:"email-input",placeholder:"Enter your email address",prefix:Object(D.jsx)(v.a,{}),value:a,onChange:this.handleChange}),Object(D.jsx)(O.a.Password,{className:"password-input",size:"large",placeholder:"Enter your password",iconRender:function(e){return e?Object(D.jsx)(S.a,{}):Object(D.jsx)(k.a,{})},onChange:this.handleChange,name:"password",value:r}),Object(D.jsx)(x.a,{type:"link",className:"login-link",onClick:function(){n.push("/")},block:!0,children:"Login?"}),Object(D.jsx)(x.a,{type:"primary",size:"large",block:!0,onClick:this.handleSubmit,children:"Register"})]})]})}}]),a}(s.Component)),G=Object(N.g)(Object(y.b)(null,(function(e){return{setCurrentUser:function(t){e(w(t))}}}))(q)),H=a(87),K=(a(232),a(95)),W=a(88),Q=a(244),Z=K.a.Option,$=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.currentUser,t=[],a=[],n={"Content-Type":"application/json",Authorization:"Bearer ".concat(e.tokens.access.token)};fetch(f.a+"/users",{headers:n}).then(function(){var a=Object(j.a)(m.a.mark((function a(n){var s,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:if(s=a.sent,n.ok){a.next=6;break}return o=s&&s.message||n.statusText,a.abrupt("return",Promise.reject(o));case 6:s.results.forEach((function(a){a.id!==e.user.id&&t.push(Object(D.jsx)(Z,{children:a.name},a.id))})),r.setState({userlist:t});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),console.error("Error!: ",e)})),fetch(f.a+"/rooms/getRooms/".concat(e.user.id),{headers:n}).then(function(){var e=Object(j.a)(m.a.mark((function e(t){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return s=n&&n.message||t.statusText,e.abrupt("return",Promise.reject(s));case 6:a=n,r.setState({roomslist:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),console.error("Error!: ",e)}))},r.showModal=function(){r.setState({isModalVisible:!0})},r.handleSelectChange=function(e){r.setState({selectedUsers:Object(H.a)(e)})},r.handleSubmit=function(){var e=r.state,t=e.selectedUsers,a=e.roomName,n=e.roomslist,s=r.props.currentUser,o={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.tokens.access.token)},body:JSON.stringify({name:a,userlist:t,createdBy:s.user.id})};fetch(f.a+"/rooms",o).then(function(){var e=Object(j.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,t.ok){e.next=6;break}return s=a&&a.message||t.status,e.abrupt("return",Promise.reject(s));case 6:n.push(a),r.setState({roomslist:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),alert("Error!: ",e)})),r.setState({isModalVisible:!1})},r.handleCancel=function(){r.setState({isModalVisible:!1})},r.handleChange=function(e){var t=e.target,a=t.value,n=t.name;r.setState(Object(b.a)({},n,a))},r.handleRedirect=function(e,t){var a=r.props.history;window.localStorage.setItem("roomName",e),window.localStorage.setItem("currentRoomId",t),a.push("/dragdrop")},r.state={roomName:"",isModalVisible:!1,userlist:[],selectedUsers:[],roomslist:[]},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.roomName,r=t.isModalVisible,n=t.userlist,s=t.selectedUsers,o=t.roomslist,c=this.props,i=c.history,l=c.currentUser,u=[];return o.length>0&&o.forEach((function(t){u.push(Object(D.jsx)("div",{className:"rooms",onClick:function(){return e.handleRedirect(t.name,t.id)},children:t.name}))})),Object(D.jsxs)("div",{className:"room-page",children:[Object(D.jsxs)("div",{className:"page-header",children:[Object(D.jsx)(g.a,{className:"site-page-header",title:"Chat App",subTitle:l.user.name,extra:"admin"===l.user.role?[Object(D.jsx)(x.a,{shape:"round",onClick:this.showModal,children:"Create New Room"},"1"),Object(D.jsx)(x.a,{type:"primary",onClick:function(){i.push("/annotation-rooms")},children:"Annotations"},"2"),Object(D.jsx)(x.a,{onClick:function(){localStorage.removeItem("persist:gsoc-challenge-chat-app"),window.location.reload()},children:"Logout"},"3")]:[Object(D.jsx)(x.a,{onClick:function(){localStorage.removeItem("persist:gsoc-challenge-chat-app"),window.location.reload()},children:"Logout"},"1")],onBack:function(){i.goBack()}}),","]}),Object(D.jsx)("div",{className:"content",children:Object(D.jsx)("div",{className:"rooms-collection",children:o&&o.length>0?u:Object(D.jsx)(W.a,{description:"No rooms to show"})})}),Object(D.jsxs)(Q.a,{title:"Basic Modal",visible:r,onOk:this.handleSubmit,onCancel:this.handleCancel,children:[Object(D.jsx)("h2",{children:"Create a new room for annotations"}),Object(D.jsx)(O.a,{placeholder:"Enter name of the Room",name:"roomName",value:a,onChange:this.handleChange,style:{marginBottom:"10px"}}),Object(D.jsx)(K.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},value:s,placeholder:"Please select the admitted users",onChange:this.handleSelectChange,children:n})]})]})}}]),a}(s.Component),ee=Object(B.createStructuredSelector)({currentUser:z}),te=Object(N.g)(Object(y.b)(ee,(function(e){return{setCurrentUser:function(t){e(w(t))}}}))($)),ae=a(94),re=(a(233),a(245)),ne=a(250),se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("currentRoomId"),t=window.localStorage.getItem("roomName"),a=r.props.currentUser;(n=Object(A.io)(f.b,{query:"roomName=".concat(t,"&token=").concat(a.tokens.access.token)})).on("receive_state",(function(e){e.userId!==a.user.name&&(delete e.userName,delete e.roomName,r.setState(Object(ae.a)({},e)))}));var s={"Content-Type":"application/json",Authorization:"Bearer ".concat(a.tokens.access.token)};fetch(f.a+"/rooms/manage/".concat(e),{headers:s}).then(function(){var n=Object(j.a)(m.a.mark((function n(s){var o,c,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.json();case 2:if(o=n.sent,s.ok){n.next=6;break}return c=o&&o.message||s.statusText,n.abrupt("return",Promise.reject(c));case 6:i=[],o.placed.length>0&&(i=Object(H.a)(o.placed)),r.setState({roomName:t,roomId:e,placed:i,room:o,counter:o.counter,userId:a.user.id});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),console.error("Error!: ",e)}))},r.showModal=function(e){var t=r.state,a=t.toShowModal,n=t.draggedDivRepeat,s=!!a,o=e.pageX,c=e.pageY;r.setState({tempEvent:e,modalVisible:s,modalX:o,modalY:c},(function(){n&&r.onDrop(e,"complete")}))},r.handleOk=function(){var e=r.state,t=e.modalName,a=e.tempEvent;""!==t.trim()?r.setState({modalVisible:!1,modalName:t,tempEvent:null},(function(){r.onDrop(a,"complete")})):alert("Please fill in all the details")},r.handleCancel=function(){r.setState({modalVisible:!1})},r.onDragStart=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!a;a&&(e.dataTransfer.setData("id",t),e.dataTransfer.setData("repeat",a)),r.setState({draggedDivId:t,draggedDivRepeat:a,toShowModal:n})},r.onDragOver=function(e){e.preventDefault()},r.handleChange=function(e){var t=e.target,a=t.value,n=t.name;r.setState(Object(b.a)({},n,a))},r.onDrop=function(e,t){var a,s;e.dataTransfer.getData("repeat")?(a="true"===e.dataTransfer.getData("repeat"),s=e.dataTransfer.getData("id")):(a=r.state.draggedDivRepeat,s=r.state.draggedDivId);var o=null,c=r.state,i=c.counter,l=c.modalName,u=c.roomName,d=c.roomId,h=c.room,p=r.props.currentUser;if(i++,"complete"===t&&!a){o=(o=r.state.tasks).find((function(e){return e.key===s})),(o=JSON.parse(JSON.stringify(o))).key=o.key+"-"+i,o.category=t,o.selected=!1,o.positionx=e.pageX,o.positiony=e.pageY,o.name=l;var b=r.state.placed;o=[o].concat(Object(H.a)(b))}if(a){var g=r.state.placed;(o=g.find((function(e){return e.key===s}))).category=t,o.positionx=e.pageX,o.positiony=e.pageY,o=Object(H.a)(g)}var O={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.tokens.access.token)},body:JSON.stringify({name:u,userlist:h.userlist,createdBy:h.createdBy,placed:o,counter:i})};return fetch(f.a+"/rooms/manage/".concat(d),O).then(function(){var e=Object(j.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,t.ok){e.next=6;break}return s=a&&a.message||t.status,e.abrupt("return",Promise.reject(s));case 6:r.setState({placed:o,counter:i,toShowModal:!1,modalName:""},(function(){var e=r.state;delete e.tempEvent,n.emit("send_state",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),console.error("Error!: ",e)})),!0},r.handleClick=function(e){var t=r.state.placed.filter((function(t){return t.key===e&&(t.selected=!t.selected),t}));r.setState({placed:t})},r.handleDelete=function(e){if("Delete"===String(e.key)){var t=r.state,a=t.placed,s=t.roomName,o=t.room,c=t.roomId,i=t.counter,l=r.props.currentUser,u=a.filter((function(e){return e.selected?null:e})),d={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.tokens.access.token)},body:JSON.stringify({name:s,userlist:o.userlist,createdBy:o.createdBy,placed:u,counter:i})};fetch(f.a+"/rooms/manage/".concat(c),d).then(function(){var e=Object(j.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,t.ok){e.next=6;break}return s=a&&a.message||t.status,e.abrupt("return",Promise.reject(s));case 6:r.setState({placed:u},(function(){var e=r.state;n.emit("send_state",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.setState({errorMessage:e.toString()}),alert("Error!: ",e)}))}},r.state={tasks:[{key:"label",positionx:null,positiony:null}],placed:[],counter:0,modalVisible:!1,modalName:"",tempEvent:null,draggedDivId:"",draggedDivRepeat:"",toShowModal:!1,modalX:"",modalY:"",roomName:null,roomId:null,room:null},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t={complete:[]},a=this.state,r=a.modalX,n=a.modalY,s=a.modalName;return this.state.placed.length>0&&this.state.placed.forEach((function(a){t.complete.push(Object(D.jsx)("div",{onDragStart:function(t){return e.onDragStart(t,a.key,!0)},draggable:!0,className:a.selected?"draggable selected":"draggable",onClick:function(){e.handleClick(a.key)},style:{position:"absolute",top:a.positiony-50+"px",left:a.positionx-160+"px",fontSize:a.fontSize+"px",fontWeight:a.fontWeight},children:a.name},a.key))})),Object(D.jsxs)("div",{className:"drag-drop-page",onKeyDown:function(t){return e.handleDelete(t)},tabIndex:"0",children:[Object(D.jsxs)("div",{className:"container-drag",children:[Object(D.jsx)("div",{className:"droppable",onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){return e.showModal(t)},children:t.complete}),Object(D.jsxs)("div",{className:"wip",onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){e.onDrop(t,"wip")},children:[Object(D.jsx)("h2",{children:"Annotations"}),Object(D.jsxs)("div",{onDragStart:function(t){return e.onDragStart(t,"label")},draggable:!0,className:"draggable",children:[Object(D.jsx)(ne.a,{style:{marginRight:8,color:"#D4D4D4"}}),"Label"]})]})]}),Object(D.jsx)(Q.a,{title:"Edit Label",visible:this.state.modalVisible,onOk:this.handleOk,onCancel:this.handleCancel,children:Object(D.jsxs)(re.b,{direction:"vertical",style:{width:"100%"},children:["Text",Object(D.jsx)(O.a,{type:"text",placeholder:"Enter text to be displayed inside element",name:"modalName",value:s,onChange:this.handleChange}),"X",Object(D.jsx)(O.a,{type:"text",value:r+"px",disabled:!0}),"Y",Object(D.jsx)(O.a,{type:"text",value:n+"px",disabled:!0})]})})]})}}]),a}(s.Component),oe=Object(B.createStructuredSelector)({currentUser:z}),ce=Object(y.b)(oe,(function(e){return{setCurrentUser:function(t){e(w(t))}}}))(se),ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.currentUser;return Object(D.jsxs)(N.d,{children:[Object(D.jsx)(N.b,{exact:!0,path:"/",render:function(){return e?Object(D.jsx)(N.a,{to:"/chat"}):Object(D.jsx)(T,{})}}),Object(D.jsx)(N.b,{exact:!0,path:"/annotation-rooms",render:function(){return e?Object(D.jsx)(te,{}):Object(D.jsx)(N.a,{to:"/"})}}),Object(D.jsx)(N.b,{exact:!0,path:"/dragdrop",render:function(){return e?Object(D.jsx)(ce,{}):Object(D.jsx)(N.a,{to:"/"})}}),Object(D.jsx)(N.b,{exact:!0,path:"/register",render:function(){return e?Object(D.jsx)(N.a,{to:"/chat"}):Object(D.jsx)(G,{})}}),Object(D.jsx)(N.b,{exact:!0,path:"/chat",render:function(){return e?Object(D.jsx)(F,{}):Object(D.jsx)(N.a,{to:"/"})}})]})}}]),a}(o.a.Component),le=Object(B.createStructuredSelector)({currentUser:z}),ue=Object(y.b)(le)(ie),de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,251)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),s(e),o(e)}))},he=a(66),pe=a(165),me=a(119),je=(a(234).default,a(55)),be=je.createStore,fe=je.applyMiddleware;var ge=be(a(238).default,fe.apply(void 0,[])),Oe=Object(me.b)(ge);i.a.render(Object(D.jsx)(y.a,{store:ge,children:Object(D.jsx)(he.a,{children:Object(D.jsx)(pe.a,{persistor:Oe,children:Object(D.jsx)(ue,{})})})}),document.getElementById("root")),de()},238:function(e,t,a){"use strict";a.r(t);var r=a(55),n=a(94),s=a(104),o={currentUser:null},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case s.a.SET_CURRENT_USER:return Object(n.a)(Object(n.a)({},e),{},{currentUser:r});default:return e}},i=a(166),l=a.n(i),u=a(119),d=Object(r.combineReducers)({user:c}),h={key:"gsoc-challenge-chat-app",storage:l.a};t.default=Object(u.a)(h,d)},28:function(e){e.exports=JSON.parse('{"a":"https://react-nodejs-chat-app-backend.herokuapp.com/v1","b":"https://react-node-chat-app-sockets.herokuapp.com"}')}},[[237,1,2]]]);
//# sourceMappingURL=main.6b369608.chunk.js.map